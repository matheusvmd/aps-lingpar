PUSH 1
POP R0
STORE R0, VAR_0   ; milk
PUSH 2
POP R0
STORE R0, VAR_1   ; meat
CHECK_SENSOR DOOR
PUSH R0
PUSH 1
POP R1
POP R0
CMP R0, R1
JE EQ_TRUE_1
PUSH 0
JMP EQ_DONE_1
LABEL EQ_TRUE_1
PUSH 1
LABEL EQ_DONE_1
POP R0
CMP R0, 0
JE ELSE_2
PRINT "⚠️  Feche a porta!"
JMP ENDIF_2
LABEL ELSE_2
LABEL ENDIF_2
LABEL WHILE_START_3
LOAD R0, VAR_1   ; meat
PUSH R0
PUSH 0
POP R1
POP R0
CMP R0, R1
JG GT_TRUE_4
PUSH 0
JMP GT_DONE_4
LABEL GT_TRUE_4
PUSH 1
LABEL GT_DONE_4
POP R0
CMP R0, 0
JE WHILE_END_3
PUSH 2
POP R0
SET_TEMP R0
SET_MODE TURBO
LOAD R0, VAR_1   ; meat
PUSH R0
PUSH 1
POP R1
POP R0
SUB R0, R1
PUSH R0
POP R0
STORE R0, VAR_1   ; meat
ADD_ITEM "carne preparada"
JMP WHILE_START_3
LABEL WHILE_END_3
HALT

; Symbol table:
; VAR_1 = meat
; VAR_0 = milk
